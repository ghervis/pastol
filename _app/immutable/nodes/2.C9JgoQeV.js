import{a as T,t as L,e as ie}from"../chunks/disclose-version.D3GNi1eq.js";import"../chunks/legacy.CN0E17mG.js";import{h as b,A as K,X as Q,z as ne,b as re,F as B,D as oe,M as ce,Y as W,a8 as de,a9 as F,Q as H,i as S,au as D,aa as J,d as Z,ab as fe,B as U,av as ue,aw as ve,ax as pe,g as ge,U as ye,I as he,ap as me,a1 as Y,ay as _e,az as be,aA as qe,P as ke,aB as xe,a7 as ze,aC as Ee,p as $,k as ee,w as x,n as ae,x as q,y as m,v as we,o as I,a3 as j,j as Ae,aD as Ne}from"../chunks/runtime.ChNUGjoR.js";import{e as Se,d as Te,s as P,a as Me}from"../chunks/render.DvGw5IWf.js";import{b as A}from"../chunks/paths.Ck47BRV1.js";import{o as De}from"../chunks/index-client.gB7NF2g3.js";function Ie(t){b&&K(t)!==null&&Q(t)}function Le(t,e,a,l){for(var i=[],r=e.length,o=0;o<r;o++)ve(e[o].e,i,!0);var p=r>0&&i.length===0&&a!==null;if(p){var f=a.parentNode;Q(f),f.append(a),l.clear(),z(t,e[0].prev,e[r-1].next)}pe(i,()=>{for(var n=0;n<r;n++){var v=e[n];p||(l.delete(v.k),z(t,v.prev,v.next)),ge(v.e,!p)}})}function Ce(t,e,a,l,i,r=null){var o=t,p={flags:e,items:new Map,first:null};{var f=t;o=b?B(K(f)):f.appendChild(ne())}b&&oe();var n=null,v=!1;re(()=>{var s=a(),g=ce(s)?s:s==null?[]:W(s),c=g.length;if(v&&c===0)return;v=c===0;let d=!1;if(b){var y=o.data===de;y!==(c===0)&&(o=F(),B(o),H(!1),d=!0)}if(b){for(var E=null,_,u=0;u<c;u++){if(S.nodeType===8&&S.data===ye){o=S,d=!0,H(!1);break}var h=g[u],M=l(h,u);_=te(S,p,E,null,h,M,u,i,e),p.items.set(M,_),E=_}c>0&&B(F())}if(!b){var w=he;Re(g,p,o,i,e,(w.f&D)!==0,l)}r!==null&&(c===0?n?J(n):n=Z(()=>r(o)):n!==null&&fe(n,()=>{n=null})),d&&H(!0),a()}),b&&(o=S)}function Re(t,e,a,l,i,r,o,p){var f=t.length,n=e.items,v=e.first,s=v,g,c=null,d=[],y=[],E,_,u,h;for(h=0;h<f;h+=1){if(E=t[h],_=o(E,h),u=n.get(_),u===void 0){var M=s?s.e.nodes_start:a;c=te(M,e,c,c===null?e.first:c.next,E,_,h,l,i),n.set(_,c),d=[],y=[],s=c.next;continue}if(Be(u,E,h),u.e.f&D&&J(u.e),u!==s){if(g!==void 0&&g.has(u)){if(d.length<y.length){var w=y[0],k;c=w.prev;var O=d[0],C=d[d.length-1];for(k=0;k<d.length;k+=1)G(d[k],w,a);for(k=0;k<y.length;k+=1)g.delete(y[k]);z(e,O.prev,C.next),z(e,c,O),z(e,C,w),s=w,c=C,h-=1,d=[],y=[]}else g.delete(u),G(u,s,a),z(e,u.prev,u.next),z(e,u,c===null?e.first:c.next),z(e,c,u),c=u;continue}for(d=[],y=[];s!==null&&s.k!==_;)(r||!(s.e.f&D))&&(g??(g=new Set)).add(s),y.push(s),s=s.next;if(s===null)continue;u=s}d.push(u),c=u,s=u.next}if(s!==null||g!==void 0){for(var R=g===void 0?[]:W(g);s!==null;)(r||!(s.e.f&D))&&R.push(s),s=s.next;var se=R.length;if(se>0){var le=f===0?a:null;Le(e,R,le,n)}}U.first=e.first&&e.first.e,U.last=c&&c.e}function Be(t,e,a,l){ue(t.v,e),t.i=a}function te(t,e,a,l,i,r,o,p,f,n){var v=(f&be)!==0,s=(f&qe)===0,g=v?s?me(i):Y(i):i,c=f&_e?Y(o):o,d={i:c,v:g,k:r,a:null,e:null,prev:a,next:l};try{return d.e=Z(()=>p(t,g,c),b),d.e.prev=a&&a.e,d.e.next=l&&l.e,a===null?e.first=d:(a.next=d,a.e.next=d.e),l!==null&&(l.prev=d,l.e.prev=d.e),d}finally{}}function G(t,e,a){for(var l=t.next?t.next.e.nodes_start:a,i=e?e.e.nodes_start:a,r=t.e.nodes_start;r!==l;){var o=ke(r);i.before(r),r=o}}function z(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function He(t,e){var a=t.__attributes??(t.__attributes={});a.value===(a.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e)}function N(t,e,a,l){var i=t.__attributes??(t.__attributes={});b&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=a)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[xe]=a),a==null?t.removeAttribute(e):typeof a!="string"&&Oe(t).includes(e)?t[e]=a:t.setAttribute(e,a))}var V=new Map;function Oe(t){var e=V.get(t.nodeName);if(e)return e;V.set(t.nodeName,e=[]);for(var a,l=t,i=Element.prototype;i!==l;){a=Ee(l);for(var r in a)a[r].set&&e.push(r);l=ze(l)}return e}function X(t,e,a){if(a){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}var Fe=L('<dialog id="add" class="svelte-1gzq4qa"><form class="svelte-1gzq4qa"><input type="radio" id="specific-date" name="fav_language" value="specific-date" checked style="display: none;" class="svelte-1gzq4qa"> <input type="radio" id="repeat-days" name="fav_language" value="repeat-days" style="display: none;" class="svelte-1gzq4qa"> <label for="specific-date" class="svelte-1gzq4qa">Specific Date</label> <label for="repeat-days" class="svelte-1gzq4qa">Repeat Days</label> <input type="date" id="date" required class="svelte-1gzq4qa"> <input type="checkbox" id="monday" name="monday" value="monday" style="display: none;" class="svelte-1gzq4qa"> <label for="monday" class="svelte-1gzq4qa">Mon</label> <input type="checkbox" id="tuesday" name="tuesday" value="tuesday" style="display: none;" class="svelte-1gzq4qa"> <label for="tuesday" class="svelte-1gzq4qa">Tue</label> <input type="checkbox" id="wednesday" name="wednesday" value="wednesday" style="display: none;" class="svelte-1gzq4qa"> <label for="wednesday" class="svelte-1gzq4qa">Wed</label> <input type="checkbox" id="thursday" name="thursday" value="thursday" style="display: none;" class="svelte-1gzq4qa"> <label for="thursday" class="svelte-1gzq4qa">Thu</label> <input type="checkbox" id="friday" name="friday" value="friday" style="display: none;" class="svelte-1gzq4qa"> <label for="friday" class="svelte-1gzq4qa">Fri</label> <input type="checkbox" id="saturday" name="saturday" value="saturday" style="display: none;" class="svelte-1gzq4qa"> <label for="saturday" class="svelte-1gzq4qa">Sat</label> <input type="checkbox" id="sunday" name="sunday" value="sunday" checked style="display: none;" class="svelte-1gzq4qa"> <label for="sunday" class="svelte-1gzq4qa">Sun</label> <label for="time" class="svelte-1gzq4qa">Time</label> <input type="time" id="time" required class="svelte-1gzq4qa"> <label for="text" class="svelte-1gzq4qa">Message</label> <textarea id="message" placeholder="Spoken message" rows="2" class="svelte-1gzq4qa"></textarea> <button type="submit" class="svelte-1gzq4qa">Add</button></form> <button type="button" id="close">Close</button></dialog>');function Ue(t,e){$(e,!0),De(()=>{const i=document.getElementById("add"),r=document.getElementById("open"),o=document.getElementById("close");r.addEventListener("click",()=>{const p=new Date,[f,n,v]=p.toLocaleDateString().split("/");document.querySelector("#date").value=`${v}-${f.padStart(2,"0")}-${n.padStart(2,"0")}`,document.querySelector("#time").value=p.toTimeString().substring(0,5),i.showModal()}),o.addEventListener("click",()=>i.close()),i.addEventListener("close",()=>r.focus()),i.querySelector("form").addEventListener("submit",p=>{p.preventDefault(),i.close()})});var a=Fe(),l=x(a);ae(2),q(a),Se("submit",l,function(...i){var r;(r=e.addCustomNotification)==null||r.apply(this,i)}),T(t,a),ee()}var Ye=(t,e)=>e.toggleEnable(e.notification),je=L(`<article class="notification-item svelte-aj4rag"><div class="time-header svelte-aj4rag"><label class="time-header-label svelte-aj4rag" title="Check this if you want to get notifications every "><input type="checkbox" id="" style="display: none;"> <span class="time-enabled material-symbols-outlined svelte-aj4rag"> </span> <span class="time-header-label-text tl-text"> </span></label> <button class="time-voice-preview svelte-aj4rag"><span class="material-symbols-outlined" title="Hear a preview for this notification's message">record_voice_over</span></button> <button class="delete-time svelte-aj4rag" title="Delete this time"><span class="material-symbols-outlined">close</span></button></div> <div class="custom-message svelte-aj4rag"><textarea id="" placeholder="placeholder" title="wat" rows="2" class="svelte-aj4rag"></textarea></div></article>`);function Pe(t,e){$(e,!0);var a=je(),l=x(a),i=x(l),r=x(i);r.__change=[Ye,e];var o=m(r,2),p=x(o,!0);q(o);var f=m(o,2),n=x(f,!0);q(f),q(i),ae(4),q(l);var v=m(l,2),s=x(v);Ie(s),q(v),q(a),we(()=>{X(o,"is-time-disabled",!e.notification.enabled),P(p,e.notification.source==="custom"?"alarm":"event"),P(n,e.notification.time),X(v,"is-time-disabled",!e.notification.enabled),He(s,e.notification.text)}),T(t,a),ee()}Te(["change"]);var Ge=L('<section class="notifications-container svelte-oazb90"></section>');function Ve(t,e){var a=Ge();Ce(a,21,()=>e.notifications,l=>l.id,(l,i)=>{Pe(l,{get notification(){return I(i)},get toggleEnable(){return e.toggleEnable}})}),q(a),T(t,a)}var Xe=ie('<link rel="icon" type="image/svg"> <link rel="stylesheet"> <link rel="stylesheet"> <link rel="stylesheet"> <link rel="stylesheet"> <script><\/script>',1),Ke=L('<main class="svelte-15srfrd"><section class="controls"><h1 class="tl-text" style="font-size: 200%;">Pastol</h1> <div class="add-and-settings"><button id="open" class="add-button">Add</button> <button class="settings-button">Settings</button></div></section> <!> <!></main>');function aa(t){let e=Ne([]);function a(f,n){j(e,[...I(e),{id:crypto.randomUUID(),time:n,text:f,repeatType:"daily",enabled:!0,source:"event"}])}function l(f){j(e,I(e).map(n=>n.id===f.id?{...n,enabled:!n.enabled}:n))}function i(f){f.preventDefault();const n=f.target;console.log("htmlFormElement",n);const v=n.message.value;n.date.value;const s=n.time.value;a(v,s)}a("notif1","10:00 AM"),a("notif2","10:00 AM"),a("notif3","10:00 AM"),a("notif4","10:00 AM"),a("notif5","10:00 AM");var r=Ke();Me(f=>{var n=Xe(),v=Ae(n);N(v,"href",`${A??""}/favicon.ico`);var s=m(v,2);N(s,"href",`${A??""}/reset.css`);var g=m(s,2);N(g,"href",`${A??""}/colors.css`);var c=m(g,2);N(c,"href",`${A??""}/font.css`);var d=m(c,2);N(d,"href",`${A??""}/flatpickr/flatpickr.min.css`);var y=m(d,2);N(y,"src",`${A??""}/flatpickr/flatpickr.js`),T(f,n)});var o=m(x(r),2);Ve(o,{get notifications(){return I(e)},toggleEnable:l});var p=m(o,2);Ue(p,{addCustomNotification:i}),q(r),T(t,r)}export{aa as component};
