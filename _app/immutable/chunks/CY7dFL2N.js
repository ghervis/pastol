import{i as m,j as o,k as A,E as I,H as N,l as R,s as x,m as d,o as v,p as h,q as p,t as S,U as k,v as q,w,x as g,y as D,g as F}from"./a19LureZ.js";import{s as H}from"./7VQJUBCG.js";function j(s,a,t=!1){o&&A();var e=s,r=null,n=null,u=k,y=t?I:0,l=!1;const E=(c,i=!0)=>{l=!0,_(i,c)},_=(c,i)=>{if(u===(u=c))return;let b=!1;if(o){const T=e.data===N;!!u===T&&(e=R(),x(e),d(!1),b=!0)}u?(r?v(r):i&&(r=h(()=>i(e))),n&&p(n,()=>{n=null})):(n?v(n):i&&(n=h(()=>i(e))),r&&p(r,()=>{r=null})),b&&d(!0)};m(()=>{l=!1,a(E),l||_(null,null)},y),o&&(e=S)}let f=!1;function C(s,a,t){const e=t[a]??(t[a]={store:null,source:w(void 0),unsubscribe:g});if(e.store!==s)if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=g;else{var r=!0;e.unsubscribe=H(s,n=>{r?e.source.v=n:D(e.source,n)}),r=!1}return F(e.source)}function O(){const s={};return q(()=>{for(var a in s)s[a].unsubscribe()}),s}function P(s){var a=f;try{return f=!1,[s(),f]}finally{f=a}}export{C as a,P as c,j as i,O as s};
